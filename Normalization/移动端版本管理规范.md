# 移动端版本管理规范

遵守语义化版本控制规范（[语义化版本控制规范](http://semver.org/lang/zh-CN/)）

## 正式版本号：

版本格式：主版本号.次版本号.修订号，版本号递增规则如下：

1. **主版本号：**当做了不兼容的 API 修改，即重大修改等导致产品整体发生改变，如整体UI结构发生变化。主版本号+1,次版本号和修订号复位为0;
2. **次版本号：**当做了向下兼容的功能性新增，即新增部分功能或其它较大变化，如增加语音识别功能。主版本号不变，次版本号+1, 修订号复位为0;
3. **修订号：**当做了向下兼容的问题修正，局部修改以及Bug更新等版本维护。主版本号和次版本号不变，修订号+1;
先行版本号及版本编译信息可以加到“主版本号.次版本号.修订号”的后面，作为延伸。

>例如：
>Alpha 版本：	3.3.2-alpha, 3.3.12-alpha, …
>
>Beta 版本：	3.3.4-beta, 3.3.13-beta, 3.10.0-beta, …
>
>Release 版本：	3.3.2, 3.3.3, 3.4.15, …

## 测试版本号（主要体现在Bug管理平台-禅道上面）：

**主版本号.次(子)版本号.修正版本号.阶段版本号-日期版本号-迭代序数**

例如：`3.3.8-beta-170325-2`

测试版本迭代，每次发布测试版本，主版本号.次(子)版本号.修正版本号.阶段版本号-日期版本号 不变，迭代序数+1, 直至此版本测试完成，发布对应的版本。

例 3.3.8-alpha的测试版本迭代：

`3.3.8-alpha` 于 17年4月8日 提交测试：
[`3.3.8-alpha-170408-1`] -> [`3.3.8-alpha-170408-2`] -> [`3.3.8-alpha-170408-3`] ->[`3.3.8-alpha-170408-4`]（达到发布标准）-> `3.3.8-alpha`(正式发布)

例 `3.3.0`三九的测试迭代：
`3.3.0` 三九集团版本于 17年4月12日 提交测试：
[`3.3.0-999-170412-1`] -> [`3.3.0-999-170412-2`] -> [`3.3.0-999-170412-3`] （达到发布标准）-> `3.3.0`(正式发布)

**备注：**

```
1. Release 正式版本号无先行版本号。即形如：3.3.2 即为Release版本。
2. 版本发出后，不允许修改程序包内容。任何修改都得以新版本发出。
3. 当主版本号变动的时候，次版本号和修订号要置0，当次版本号变动的时候，修订号要置0。
4. 禁止在数字前方补零, 即不允许出现 3.03.3 或 3.2.01等版本。
```
## 版本与服务端同步更新检查
按廖国良手稿进行管理，见图片：![](https://ly.linkapp.com.cn:443/api.action?acmod=outlink&file=outlink321u6dc417ecfeb61747)

维护更新日志
更新日志由人工编辑，用列表形式以倒叙时间，记录各个版本发布时的功能变动。主要是方便查阅各版本的功能Bug更新情况。

* 采用markdown语法，记录成`CHANGELOG.md`文件（为了区分对应的版本可添加标识如：`Beta_CHANGELOG.md`，`Alpha_CHANGELOG.md`等）。
* 一个版本对应一个章节（对应markdown语法为两个‘#’即 ##）。
* 采用时间倒序，即最新的版本在上，最老的在下面。
* 所有日期采用'YYYY-MM-DD'这种格式。
* 标记版本号应遵守上面的移动端版本管理规范，其中包含正式版本号和测试版本号。
* 有先行版本号应标记出相对应的版本号。如`3.3.4-beta` 基于`3.3.8-alpha-2`开发发布的,那`3.3.4-beta`版本应标记先行版本号为`3.3.8-alpha-2`.
* 每一个版本的变化必须标明分类（采用英文）。规范如下：
	>'Added' 添加的新功能
	
	>'Changed' 功能变更
	
	>'Removed' 之前不建议使用的功能，这次真的删掉了
	
	>'Fixed' 改的bug
	
	>'Security' 改的有关安全相关bug
	
* 不要将SVN上日志复制到版本更新日志里面。
* 日志在 SVN 服务器 目录：/移动端开发/版本及日志信息 下保持更新。

## Beta更新日志示例：
### [LinkBeta_3.3.6] - 2017-07-29
#### 先行版本 【LinkAlpha_3.3.14]
#### Changed
1. 增加QQ和微信的分享功能。
2. 完成优化组织架构中加载用户部门列表慢，以及显示用户头像卡顿的问题。

#### Fixed
1. 修复外链生成按钮，并增加外链多选删除的功能。
2. 修复打开APP经常出现未登录的情况。

#### Removed

### 